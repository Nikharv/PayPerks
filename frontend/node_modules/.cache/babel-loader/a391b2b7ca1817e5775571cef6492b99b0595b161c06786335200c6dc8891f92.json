{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8080';\nconst handleResponse = async response => {\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Something went wrong');\n  }\n  return response.json();\n};\nconst defaultHeaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n};\nconst defaultOptions = {\n  credentials: 'include',\n  headers: defaultHeaders\n};\nexport const api = {\n  // Auth endpoints\n  login: async (email, password) => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return handleResponse(response);\n  },\n  signup: async userData => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n    return handleResponse(response);\n  },\n  // Card endpoints\n  getCards: async () => {\n    const response = await fetch(`${API_BASE_URL}/cards-data`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    const data = await handleResponse(response);\n    console.log('API Response:', data);\n    return data;\n  },\n  addUserCards: async (userId, cardIds) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        userId,\n        cardIds\n      })\n    });\n    return handleResponse(response);\n  },\n  getUserCards: async userId => {\n    const response = await fetch(`${API_BASE_URL}/user-cards/${userId}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  // Offer endpoints\n  searchOffers: async (userId, merchant) => {\n    const params = new URLSearchParams({\n      userId\n    });\n    if (merchant) params.append('merchant', merchant);\n    const response = await fetch(`${API_BASE_URL}/offers/search?${params}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  getClaimedOffers: async userId => {\n    const response = await fetch(`${API_BASE_URL}/offers/claimed?userId=${userId}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  claimOffer: async (userId, offerId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claim`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        userId,\n        offerId\n      })\n    });\n    return handleResponse(response);\n  },\n  setupCards: async cards => {\n    const response = await fetch(`${API_BASE_URL}/cards/setup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        cards\n      })\n    });\n    return handleResponse(response);\n  }\n};","map":{"version":3,"names":["API_BASE_URL","handleResponse","response","ok","error","json","Error","defaultHeaders","defaultOptions","credentials","headers","api","login","email","password","fetch","method","body","JSON","stringify","signup","userData","getCards","data","console","log","addUserCards","userId","cardIds","getUserCards","searchOffers","merchant","params","URLSearchParams","append","getClaimedOffers","claimOffer","offerId","setupCards","cards"],"sources":["/Users/nikharvdomadiya/Downloads/untitled folder/PayPerks/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8080';\n\nconst handleResponse = async (response) => {\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Something went wrong');\n  }\n  return response.json();\n};\n\nconst defaultHeaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n};\n\nconst defaultOptions = {\n  credentials: 'include',\n  headers: defaultHeaders,\n};\n\nexport const api = {\n  // Auth endpoints\n  login: async (email, password) => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    return handleResponse(response);\n  },\n\n  signup: async (userData) => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n    return handleResponse(response);\n  },\n\n  // Card endpoints\n  getCards: async () => {\n    const response = await fetch(`${API_BASE_URL}/cards-data`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    const data = await handleResponse(response);\n    console.log('API Response:', data);\n    return data;\n  },\n\n  addUserCards: async (userId, cardIds) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ userId, cardIds }),\n    });\n    return handleResponse(response);\n  },\n\n  getUserCards: async (userId) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards/${userId}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  // Offer endpoints\n  searchOffers: async (userId, merchant) => {\n    const params = new URLSearchParams({ userId });\n    if (merchant) params.append('merchant', merchant);\n    \n    const response = await fetch(`${API_BASE_URL}/offers/search?${params}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  getClaimedOffers: async (userId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claimed?userId=${userId}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  claimOffer: async (userId, offerId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claim`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ userId, offerId }),\n    });\n    return handleResponse(response);\n  },\n\n  setupCards: async (cards) => {\n    const response = await fetch(`${API_BASE_URL}/cards/setup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ cards }),\n    });\n    return handleResponse(response);\n  },\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}