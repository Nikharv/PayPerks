{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8080';\nconst handleResponse = async response => {\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Something went wrong');\n  }\n  return response.json();\n};\nconst defaultHeaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n};\nconst defaultOptions = {\n  credentials: 'include',\n  headers: defaultHeaders\n};\nexport const api = {\n  // Auth endpoints\n  login: async (email, password) => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return handleResponse(response);\n  },\n  signup: async userData => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n    return handleResponse(response);\n  },\n  // Card endpoints\n  getCards: async (bank, type) => {\n    const params = new URLSearchParams();\n    if (bank) params.append('bank', bank);\n    if (type) params.append('type', type);\n    const response = await fetch(`${API_BASE_URL}/cards-data?${params}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  addUserCards: async (userId, cardIds) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        userId,\n        cardIds\n      })\n    });\n    return handleResponse(response);\n  },\n  getUserCards: async userId => {\n    const response = await fetch(`${API_BASE_URL}/user-cards/${userId}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  // Offer endpoints\n  searchOffers: async (userId, merchant) => {\n    const params = new URLSearchParams({\n      userId\n    });\n    if (merchant) params.append('merchant', merchant);\n    const response = await fetch(`${API_BASE_URL}/offers/search?${params}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  getClaimedOffers: async userId => {\n    const response = await fetch(`${API_BASE_URL}/offers/claimed?userId=${userId}`, {\n      ...defaultOptions,\n      method: 'GET'\n    });\n    return handleResponse(response);\n  },\n  claimOffer: async (userId, offerId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claim`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        userId,\n        offerId\n      })\n    });\n    return handleResponse(response);\n  },\n  setupCards: async cards => {\n    const response = await fetch(`${API_BASE_URL}/cards/setup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({\n        cards\n      })\n    });\n    return handleResponse(response);\n  }\n};","map":{"version":3,"names":["API_BASE_URL","handleResponse","response","ok","error","json","Error","defaultHeaders","defaultOptions","credentials","headers","api","login","email","password","fetch","method","body","JSON","stringify","signup","userData","getCards","bank","type","params","URLSearchParams","append","addUserCards","userId","cardIds","getUserCards","searchOffers","merchant","getClaimedOffers","claimOffer","offerId","setupCards","cards"],"sources":["/Users/nikharvdomadiya/Downloads/untitled folder/PayPerks/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8080';\n\nconst handleResponse = async (response) => {\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.error || 'Something went wrong');\n  }\n  return response.json();\n};\n\nconst defaultHeaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n};\n\nconst defaultOptions = {\n  credentials: 'include',\n  headers: defaultHeaders,\n};\n\nexport const api = {\n  // Auth endpoints\n  login: async (email, password) => {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    return handleResponse(response);\n  },\n\n  signup: async (userData) => {\n    const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n    return handleResponse(response);\n  },\n\n  // Card endpoints\n  getCards: async (bank, type) => {\n    const params = new URLSearchParams();\n    if (bank) params.append('bank', bank);\n    if (type) params.append('type', type);\n    \n    const response = await fetch(`${API_BASE_URL}/cards-data?${params}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  addUserCards: async (userId, cardIds) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ userId, cardIds }),\n    });\n    return handleResponse(response);\n  },\n\n  getUserCards: async (userId) => {\n    const response = await fetch(`${API_BASE_URL}/user-cards/${userId}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  // Offer endpoints\n  searchOffers: async (userId, merchant) => {\n    const params = new URLSearchParams({ userId });\n    if (merchant) params.append('merchant', merchant);\n    \n    const response = await fetch(`${API_BASE_URL}/offers/search?${params}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  getClaimedOffers: async (userId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claimed?userId=${userId}`, {\n      ...defaultOptions,\n      method: 'GET',\n    });\n    return handleResponse(response);\n  },\n\n  claimOffer: async (userId, offerId) => {\n    const response = await fetch(`${API_BASE_URL}/offers/claim`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ userId, offerId }),\n    });\n    return handleResponse(response);\n  },\n\n  setupCards: async (cards) => {\n    const response = await fetch(`${API_BASE_URL}/cards/setup`, {\n      ...defaultOptions,\n      method: 'POST',\n      body: JSON.stringify({ cards }),\n    });\n    return handleResponse(response);\n  },\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}